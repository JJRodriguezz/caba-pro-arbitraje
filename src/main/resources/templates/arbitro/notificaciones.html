<!--
Archivo: notificaciones.html
Autores: JJRodriguezz
Fecha 煤ltima modificaci贸n: 07.09.2025
Descripci贸n: Vista de notificaciones para 谩rbitros.
Proyecto: CABA Pro - Sistema de Gesti贸n Integral de Arbitraje
-->
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <title>[[#{arbitro.notificaciones.titulo}]]</title>
  <link rel="stylesheet" th:href="@{/css/arbitro-dashboard.css}" />
  <link rel="stylesheet" th:href="@{/css/asignaciones.css}" />
  <link rel="stylesheet" th:href="@{/css/notificaciones.css}" />
</head>

<body>
<div class="dashboard-container">
  <nav class="header-nav">
    <div class="nav-links">
      <a th:href="@{/arbitro/dashboard}" th:text="#{nav.dashboard}">Dashboard</a>
      <a th:href="@{/arbitro/asignaciones}" th:text="#{nav.asignaciones}">Mis Asignaciones</a>
      <a th:href="@{/arbitro/calendario}" th:text="#{nav.calendario}">Calendario</a>
      <a th:href="@{/arbitro/disponibilidad}" th:text="#{nav.disponibilidad}">Disponibilidad</a>
      <a th:href="@{/arbitro/notificaciones}" title="Notificaciones" class="notificaciones-btn"></a>
    </div>
    <div class="user-section">
      <a th:href="@{/arbitro/perfil}" class="profile-link">
        <span sec:authentication="name">rbitro</span>
      </a>
      <form th:action="@{/logout}" method="post" style="display: inline;">
        <button type="submit" class="logout-btn" th:text="#{btn.salir}"> Salir</button>
      </form>
    </div>
  </nav>
  <div class="main-panel">
    <h1 class="welcome-title" th:text="#{arbitro.notificaciones.titulo}">Mis Notificaciones</h1>
    <div class="action-buttons" style="margin-bottom: 24px; text-align: right;">
      <a th:href="@{/arbitro/asignaciones}" class="btn btn-secondary" th:text="#{arbitro.notificaciones.btn.asignaciones}">Ver Mis Asignaciones</a>
    </div>
    <table class="asignaciones-table" th:if="${notificaciones != null and notificaciones.size() > 0}">
      <thead>
        <tr>
          <th th:text="#{arbitro.notificaciones.fecha}">Fecha</th>
          <th th:text="#{arbitro.notificaciones.mensaje}">Mensaje</th>
          <th th:text="#{arbitro.notificaciones.leida}">Le铆da</th>
          <th th:text="#{arbitro.notificaciones.accion}">Acci贸n</th>
        </tr>
      </thead>
      <tbody>
        <tr th:each="notificacion : ${notificaciones}">
          <td th:text="${notificacion['fechaFormateada']}"></td>
          <td th:text="${notificacion.mensaje != null ? notificacion.mensaje : '-'}"></td>
          <td>
            <span th:if="${notificacion.leida}" class="estado-label aceptada" th:text="#{arbitro.notificaciones.leida.si}">S铆</span>
            <span th:unless="${notificacion.leida}" class="estado-label rechazada" th:text="#{arbitro.notificaciones.leida.no}">No</span>
          </td>
          <td>
            <a th:href="@{/arbitro/asignaciones}" class="btn btn-secondary" th:text="#{arbitro.notificaciones.btn.ver}">Ver Asignaci贸n</a>
          </td>
        </tr>
      </tbody>
    </table>
    <div th:if="${notificaciones == null or notificaciones.size() == 0}" class="empty-state">
      <h3 th:text="#{arbitro.notificaciones.vacio}">No tienes notificaciones.</h3>
      <p th:text="#{arbitro.notificaciones.vacio.texto}">Cuando recibas una asignaci贸n o respuesta aparecer谩 aqu铆.</p>
    </div>
  </div>
</div>
</body>
</html>
